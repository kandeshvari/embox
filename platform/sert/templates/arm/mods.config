package genconfig

configuration conf {
	@Runlevel(0) include embox.arch.arm.omap3.cpu
	@Runlevel(0) include embox.arch.arm.cortexa8.bundle
	@Runlevel(0) include embox.arch.system(core_freq=48054841)

	include embox.arch.arm.cortexa8.mmu
	include embox.mem.vmem_alloc(virtual_pages_count=20,virtual_tables_count=2)

	@Runlevel(0) include embox.kernel.stack(stack_size=4096)
	@Runlevel(1) include embox.driver.serial.ns16550
	@Runlevel(1) include embox.driver.diag(impl="embox__driver__serial__ns16550")
	@Runlevel(1) include embox.driver.interrupt.omap3_intc
	@Runlevel(1) include embox.driver.clock.omap3_clk
	@Runlevel(1) include embox.driver.gpmc.omap3_gpmc
	@Runlevel(1) include embox.driver.gpio.omap3_gpio
	@Runlevel(1) include embox.driver.net.lan9118
	@Runlevel(2) include embox.driver.net.loopback
	@Runlevel(1) include embox.kernel.timer.sys_timer

	@Runlevel(1) include embox.kernel.timer.strategy.head_timer
	@Runlevel(1) include embox.kernel.irq
	@Runlevel(1) include embox.kernel.critical
	@Runlevel(1) include embox.kernel.timer.sleep

	@Runlevel(1) include embox.kernel.thread.core(thread_pool_size=512)
	@Runlevel(1) include embox.kernel.sched.strategy.priority_based

	@Runlevel(2) include embox.kernel.task.multi
	@Runlevel(2) include embox.kernel.stack(stack_size=0x20000)

	@Runlevel(1) include embox.kernel.thread.core(thread_pool_size=1024, thread_stack_size=0x4000)

	@Runlevel(2) include sert.subsystems.fs
	@Runlevel(1) include embox.driver.ramdisk(block_size=512)
	@Runlevel(2) include embox.fs.node(fnode_quantity=512)

	@Runlevel(2) include embox.fs.driver.ext2.xattr
	include embox.kernel.task.resource.security(security_size=32)
	include embox.security.smac(audit=3)
	include embox.cmd.smac_adm

	include embox.cmd.fs.xattr
	include embox.cmd.user.who
	include embox.cmd.user.whoami
	include embox.cmd.user.login

	include embox.cmd.exit
	include embox.cmd.test
	include embox.cmd.help

	include embox.cmd.sys.date
	include embox.cmd.sys.version
	include embox.cmd.sys.export
	
	include embox.cmd.proc.thread

	include embox.cmd.net.arp
	include embox.cmd.net.arping
	include embox.cmd.net.ping
	include embox.cmd.net.ifconfig
	include embox.cmd.net.route
	include embox.cmd.net.telnetd
	include embox.cmd.net.httpd

	include embox.compat.libc.stdio.print(support_floating=0)
	include sert.subsystems.syslib
	include embox.arch.arm.libarch

	@Runlevel(1) include sert.subsystems.tests
	@Runlevel(1) include embox.test.kernel.irq_test(forced_irq_clear=true)
	include embox.kernel.timer.sys_timer(timer_quantity=512) // each sleep thread requires a timer

	include sert.subsystems.net
	include embox.net.skbuff(amount_skb=100,
			amount_skb_data=100,data_size=1514,data_align=4,data_padto=1,ip_align=true,
			amount_skb_extra=0,extra_size=0,extra_align=1,extra_padto=1)

	@Runlevel(2) include embox.mem.static_heap(heap_size=64000000)
	@Runlevel(2) include embox.mem.heap_bm(heap_size=32000000)
	
	@Runlevel(2) include embox.cmd.sh.tish(prompt="%u@%h:%w%$", rich_prompt_support=1, builtin_commands="exit cd export mount umount")
	@Runlevel(3) include embox.init.start_script
}